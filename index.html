<!DOCTYPE html>
<html>
<!-- The following code has been developed by students and/or researchers of the Freshman Research Initiative DIY Diagnostics Stream at The University of Texas at Austin.  This code is shared for demonstration purposes and should not be considered a product -- it is for entertainment purposes only.  Any user of this code does so at their own risk. Members of the DIY Stream, FRI, and The University of Texas system are not liable for anything related to this code.
 
THIS CODE SHOULD NOT BE USED TO DIAGNOSE ANY KIND OF MEDICAL CONDITION.
 
 
Authors in chronological order of contribution:
Valerie Foster
 
Further Information:
http://diystream.cns.utexas.edu/

Research Educator:
Timothy Riedel
triedel@utexas.edu
 
Brief Description of Goal of Code:
Create my own diagnostic app to determine whether someone could potentially have 
COVID-19, flu, cold, or seasonal allergies
 
Known Issues:
None
-->

<head>

    <head>
        <title>Hello World</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="w3.css">
        <link rel="stylesheet" href="w3-colors-flat.css">
    </head>
    <!-- this creates the style and design of the website-->

    <script>
        var allergy_count = 0;
        var cold_count = 0;
        var flu_count = 0;
        var covid_count = 0;
        //added variables for the functions that will count the answers from the questions.
        //set them as zero


        function allergyAdd() {
            allergy_count = allergy_count + 1;

        }

        function coldAdd() {
            cold_count = cold_count + 1;

        }

        function fluAdd() {

            flu_count = flu_count + 1;

        }

        function covidAdd() {
            covid_count = covid_count + 1;
        }

        function coldflucovidAdd() {
            coldflucovid_count = cold_count + flu_count + covid_count + 1;
        }

        function coldallergyfluAdd() {
            coldallergyflu_count = cold_count + allergy_count + flu_count + 1;
        }

        function allergycoldAdd() {
            allergycold_count = allergy_count + cold_count + 1;
        }

        function covidfluAdd() {
            covidflu_count = covid_count + flu_count + 1;
        }

        function allergycoldfluAdd() {
            allergycoldflu_count = allergy_count + cold_count + flu_count + 1;
        }

        function allergycoldflucovidAdd() {
            allergycoldflucovid_count = allergy_count + cold_count + flu_count + covid_count + 1;
        }

        function allergyflucovidAdd() {
            allergyflucovidAdd_count = allergy_count + flu_count + covid_count + 1;
        }

        function drawLine(val_context, startX = 0, startY = 0, endX = 20, endY = 11, black) {
            var val_canvas = document.getElementById("val"); // copied from line 43 to identify canvas for each function 
            var val_context = val_canvas.getContext("2d"); // added variable to get to the context method recognizing it's 2D
            val_context.save(); // this is to not affect the colors used outside the function
            val_context.strokeStyle = black; //modifies color settings
            val_context.beginPath(); // this begins drawing the line
            val_context.moveTo(startX = 0, startY = 0); //starting point of the graph
            val_context.lineTo(endX = 20, endY = 11); // ending points on the graph
            val_context.stroke(); // this will draw on the graph
            val_context.restore(); //same idea as the ctx.save which will not affect the colors used outside this function
        }
        // this function is created to create the lines for the grid lines
        function drawBar(val_context, upperLeftCornerX = 0, upperLeftCornerY = 0, width = 5, allergy_count, blue) {
            val_context.save();
            val_context.fillStyle = blue;
            val_context.fillRect(upperLeftCornerX = 0, upperLeftCornerY = 0, width = 5, allergy_count);
            val_context.restore();
        }

        var myAnswers = {
                "Allergies": allergy_count,
                "Flu": flu_count,
                "COVID-19": covid_count,
                "Cold": cold_count
            }
            // this creates a variable that has a bar chart data model to represent the answers of the survey

        var Barchart = function(options) {
            this.options = options;
            this.canvas = options.canvas;
            this.ctx = this.canvas.getContext("2d");
            this.colors = options.colors;

            // storing the options as the paramteters
            //this will store the canvas reference
            // stores the colors

            this.draw = function() {
                var maxValue = 0;
                for (var categ in this.options.data) {
                    maxValue = Math.max(maxValue, this.options.data[categ]);
                }
                // this will draw the chart by drawing the grid lines, grid markers, and the bars using the parameters from the options
                var canvasActualHeight = this.canvas.height - this.options.padding * 2;
                var canvasActualWidth = this.canvas.width - this.options.padding * 2;
                // this stores the height and width of the canvas based on the values from the options
                // padding mean the number of pixels between the edge of the canvas and the chart inside
                var gridValue = 0;
                while (gridValue <= maxValue) {
                    var gridY = canvasActualHeight * (1 - gridValue / maxValue) + this.options.padding;
                    drawLine(
                        this.ctx,
                        0,
                        gridY,
                        this.canvas.width,
                        gridY,
                        this.options.gridColor
                    );
                    //this gives the step used for drawing the lines of the graph
                    //writing grid markers
                    this.ctx.save();
                    this.ctx.fillStyle = this.options.gridColor;
                    this.ctx.font = "bold 10px Arial";
                    this.ctx.fillText(gridValue, 10, gridY - 2); // draw the value of the grid line 2 pixels above the grid line
                    this.ctx.restore();

                    gridValue += this.options.gridScale;
                }
                //drawing the bars
                // this will tell it to fill the bar: the style and font.
                var barIndex = 0;
                var numberOfBars = Object.keys(this.options.data).length;
                var barSize = (canvasActualWidth) / numberOfBars;

                for (categ in this.options.data) {
                    var val = this.options.data[categ];
                    var barHeight = Math.round(canvasActualHeight * val / maxValue);
                    drawBar(
                        this.ctx,
                        this.options.padding + barIndex * barSize,
                        this.canvas.height - barHeight - this.options.padding,
                        barSize,
                        barHeight,
                        this.colors[barIndex % this.colors.length]
                    );
                    //this contains the math for calculating the height and width of each bar
                    //this takes account into the padding and the value and color for each bar in the chart data model
                    barIndex++;
                }

            }
        }

        var myBarchart = new Barchart({
            canvas: myCanvas,
            padding: 10,
            gridScale: 5,
            gridColor: "#eeeeee",
            data: myVinyls,
            colors: ["#a55ca5", "#67b6c7", "#bccd7a", "#eb9743"]
        });
        myBarchart.draw();
    </script>
    <!-- changed the output of the alerts pertaining to my app, whether someone is lactose intolerant or not-->
    <!-- changed the results alert pertaining to lactose intolerance-->

    <style>
        .body {
            margin: 0em;
        }
        
        .page {
            width: 100vw;
            height: 100vh;
            position: fixed;
            top: 0;
            left: -100vw;
            overflow-y: auto;
            z-index: 0;
            background-color: hsl(0, 0%, 100%);
        }
        
        .page:target {
            left: 0vw;
            z-index: 1;
        }
        
        img {
            width: 50%;
            height: 50%;
            object-fit: contain;
        }
    </style>
    <!-- added code that will resize the image, test it to make sure the dimensions are right-->

    <body>
        <div id="header" class="w3-container w3-flat-turquoise">
            <h1>Is it COVID-19?</h1>
        </div>
        <div id="content" class="w3-container">
            <p> Are you experiencing symtoms that you can't figure out?</p>

            <a href="#one" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple"> Get Started </a>
            <p>The following code has been developed by students and/or researchers of the Freshman Research Initiative DIY Diagnostics Stream at The University of Texas at Austin. This code is shared for demonstration purposes and should not be considered
                a product -- it is for entertainment purposes only. Any user of this code does so at their own risk. Members of the DIY Stream, FRI, and The University of Texas system are not liable for anything related to this code.</p>
            <p>THIS CODE SHOULD NOT BE USED TO DIAGNOSE ANY KIND OF MEDICAL CONDITION.</p>

            <div class="page" id="one">
                <div id="header" class="w3-container w3-flat-turquoise">
                    <h1>Question 1</h1>
                </div>

                <div id="content" class="w3-container">
                    <p>Are your symptoms long lasting?</p>
                    <a href="#two" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="allergyAdd();">Yes</a>
                    <a href="#two" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="coldflucovidAdd();">No</a>

                </div>
            </div>

        </div>


        <div class="page" id="two">
            <div class="w3-container w3-flat-turquoise">
                <h1>Question 2</h1>
            </div>

            <div id="content" class="w3-container">
                <p>Do you have a dry cough?</p>
                <a href="#three" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="coldflucovidAdd()"> Yes</a>
                <a href="#three" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="allergyAdd();"> No </a>
            </div>


        </div>


        <div class="page" id="three">
            <div class="w3-container w3-flat-turquoise">
                <h1>Question 3</h1>
            </div>

            <div id="content" class="w3-container">
                <p>Do you often feel short of breath?</p>
                <a href="#four" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="covidAdd();"> Yes </a>
                <a href="#four" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="coldallergyfluAdd();"> No </a>

            </div>

        </div>


        <div class="page" id="four">
            <div class="w3-container w3-flat-turquoise">
                <h1>Question 4</h1>
            </div>

            <div id="content" class="w3-container">
                <p> Do you tend to sneeze often?</p>
                <a href="#five" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="allergycoldAdd()"> Yes </a>
                <a href="#five" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="covidfluAdd();"> No </a>
            </div>

            <div class="page" id="five">
                <div class="w3-container w3-flat-turquoise">
                    <h1>Question 5</h1>
                </div>
                <div id="content" class="w3-container">
                    <p>Do you tend to have a runny or stuffy nose</p>
                    <a href="#six" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="allergycoldfluAdd();">Yes</a>
                    <a href="#six" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="covidAdd();">No</a>
                </div>

                <div class="page" id="six">
                    <div class="w3-container w3-flat-turquoise">
                        <h1>Question 6</h1>
                    </div>
                    <div id="content" class="w3-container">
                        <p>Do you have a sore throat?</p>
                        <a href="#seven" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="allergycoldflucovidAdd();">Yes</a>
                        <a href="#seven" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple">No</a>
                    </div>

                    <div class="page" id="seven">
                        <div class="w3-container w3-flat-turquoise">
                            <h1>Question 7</h1>
                        </div>
                        <div id="content" class="w3-container">
                            <p>Do you have a fever?</p>
                            <a href="#eight" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="coldflucovidAdd();">Yes</a>
                            <a href="#eight" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="allergyAdd();">No</a>
                        </div>

                        <div class="page" id="eight">
                            <div class="w3-container w3-flat-turquoise">
                                <h1>Question 8</h1>
                            </div>
                            <div id="content" class="w3-container">
                                <p>Do you often feel tired or weak?</p>
                                <a href="#nine" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="allergycoldflucovidAdd();">Yes</a>
                                <a href="#nine" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple">No</a>
                            </div>

                            <div class="page" id="nine">
                                <div class="w3-container w3-flat-turquoise">
                                    <h1>Question 9</h1>
                                </div>
                                <div id="content" class="w3-container">
                                    <p>Do you often feel body aches or pains?</p>
                                    <a href="#ten" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="coldflucovidAdd();">Yes</a>

                                    <a href="#ten" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="allergyAdd();">No</a>
                                </div>

                                <div class="page" id="ten">
                                    <div class="w3-container w3-flat-turquoise">
                                        <h1>Question 10</h1>
                                    </div>
                                    <div id="content" class="w3-container">
                                        <p>Do you often experience heaedaches?</p>
                                        <a href="#eleven" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="allergyflucovidAdd();">Yes</a>
                                        <a href="#eleven" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="coldAdd();">No</a>
                                    </div>

                                    <div class="page" id="eleven">
                                        <div class="w3-container w3-flat-turquoise">
                                            <h1>Question 11</h1>
                                        </div>
                                        <div id="content" class="w3-container">
                                            <p>Do you have diarrhea?</p>
                                            <a href="#results" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="covidfluAdd();">Yes</a>
                                            <a href="#results" class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="coldallergyfluAdd();">No</a>
                                        </div>

                                        <div class="page" id="results">
                                            <div class="w3-container w3-flat-turquoise">
                                                <h1>Results</h1>
                                            </div>
                                            <div id="content" class="w3-container">
                                                <canvas id="val" width="600" height="600" style="border:1px solid #000000;"></canvas>
                                                <a class="w3-btn w3-green w3-border w3-hover-blue w3-ripple" onclick="drawLine();">Results</a>
                                                <p> </p>
                                            </div>


















                                        </div>
                                    </div>
                                </div>


    </body>

</html>

</body>

</html>
